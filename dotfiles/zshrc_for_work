# Set file descriptor limit
ulimit -n 4096

# Environment variables
export GOPATH="$HOME/golang"
export PYENV_ROOT="$HOME/.pyenv"
export PATH="$PYENV_ROOT/bin:/opt/homebrew/sbin:/opt/homebrew/bin:$HOME/bin:$GOPATH/bin:$PATH"

# Initialize pyenv
eval "$(pyenv init -)"
eval "$(pyenv virtualenv-init -)"
# Aliases for pyenv virtual environments
alias ineedpython="pyenv activate ineedpython"
alias idontneedpython="pyenv deactivate ineedpython"
alias pnuke="pyenv virtualenv-delete   ineedpython &&  pyenv virtualenv 3.12.3 ineedpython"

# Export additional environment variables
export CLICOLOR=1
export TERM=xterm
export HOMEBREW_AUTO_UPDATE_SECS=86400

#zsh crap
alias history="history 0"

export HISTSIZE=100000                   # Big history size
export SAVEHIST=100000                   # Big history file size
export HISTFILE=~/.zsh_history           # History file location

# History options
setopt HIST_IGNORE_DUPS                 # Ignore duplicate commands
setopt HIST_IGNORE_ALL_DUPS             # Remove duplicate commands from the history file
setopt APPEND_HISTORY                   # Append new history to the history file
unsetopt SHARE_HISTORY                  # No need to share across all terms.  almost defeats the point
unsetopt INC_APPEND_HISTORY               # DO not immediately append commands to the history file

# Keep history sane
setopt HIST_REDUCE_BLANKS
setopt HIST_IGNORE_SPACE

autoload -Uz compinit
compinit

# VM aliases example with jump host
#alias lts2204au="ssh  -J mikron@192.168.42.51 192.168.213.139"

# Enable kubectl completion
#source <(kubectl completion zsh)

# Terraform completion
#compdef terraform=/opt/homebrew/bin/terraform terraform

